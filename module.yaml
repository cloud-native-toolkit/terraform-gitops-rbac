name: gitops-rbac
type: terraform
description: Module to configure the provisioning of rbac in a namespace in a GitOps repo
tags:
  - tools
  - gitops
versions:
  - platforms: []
    dependencies:
      - id: gitops
        refs:
          - source: github.com/cloud-native-toolkit/terraform-tools-gitops.git
            version: ">= 1.1.0"
      - id: namespace
        refs:
          - source: github.com/cloud-native-toolkit/terraform-gitops-namespace.git
            version: ">= 1.0.0"
      - id: argocd
        refs:
          - source: github.com/cloud-native-toolkit/terraform-tools-openshift-gitops.git
            version: ">= 1.0.0"
          - source: github.com/cloud-native-toolkit/terraform-tools-argocd.git
            version: ">= 1.0.0"
        optional: true
    variables:
      - name: config_repo
        moduleRef:
          id: gitops
          output: config_repo
      - name: config_token
        moduleRef:
          id: gitops
          output: config_token
      - name: config_paths
        moduleRef:
          id: gitops
          output: config_paths
      - name: config_projects
        moduleRef:
          id: gitops
          output: config_projects
      - name: application_repo
        moduleRef:
          id: gitops
          output: application_repo
      - name: application_token
        moduleRef:
          id: gitops
          output: application_token
      - name: application_paths
        moduleRef:
          id: gitops
          output: application_paths
      - name: service_account_namespace
        moduleRef:
          id: argocd
          output: argocd_namespace
      - name: service_account_name
        moduleRef:
          id: argocd
          output: argocd_service_account
      - name: namespace
        moduleRef:
          id: namespace
          output: name
